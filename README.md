# 得物自动化脚本

## 📱 应用简介

得物自动化脚本是一款Android应用，用于自动化处理网页操作。应用可以自动截取屏幕、发送API请求、执行点击操作，并支持智能控件查找和批量处理。

## ✨ 主要功能

- **自动化脚本执行**：自动处理URL列表中的网页
- **智能控件查找**：自动查找并操作页面中的目标控件
- **批量处理**：支持批量处理多个控件
- **悬浮窗显示**：实时显示脚本执行状态
- **暂停/继续**：支持脚本暂停和继续功能
- **自定义设置**：可自定义等待时间、控件数量等参数
- **截图保存**：自动截取并保存屏幕截图
- **API集成**：支持将截图发送到指定API接口

## 🚀 快速开始

### 1. 安装应用
下载并安装APK文件到Android设备

### 2. 权限设置（重要！）
应用需要以下权限才能正常运行：

- **无障碍服务权限** - 用于自动化操作
- **悬浮窗权限** - 防止应用被后台杀死
- **截屏权限** - 用于截取屏幕
- **后台服务权限** - 确保脚本在后台运行
- **网络权限** - 发送API请求
- **存储权限** - 保存截图文件

**详细设置步骤**：请参考 [权限设置指南](PERMISSION_SETUP_GUIDE.md)

### 3. 基本使用
1. 添加需要处理的URL到应用
2. 配置脚本参数（可选）
3. 启动脚本开始自动化处理

**详细使用说明**：请参考 [使用指南](AUTOMATION_SCRIPT_GUIDE.md)

## 📚 文档说明

- **[使用指南](AUTOMATION_SCRIPT_GUIDE.md)** - 详细的使用说明和功能介绍
- **[权限设置指南](PERMISSION_SETUP_GUIDE.md)** - 完整的权限设置步骤和故障排除
- **[无障碍服务设置](ACCESSIBILITY_SETUP.md)** - 无障碍服务的详细配置说明
- **[MIUI故障排除](MIUI_TROUBLESHOOTING.md)** - 小米手机特殊问题解决方案
- **[API文档](API_Documentation.md)** - API接口使用说明

## ⚠️ 重要提醒

### 权限要求
- **悬浮窗权限**是必需的，用于防止应用被后台杀死
- **MIUI用户**需要额外设置：关闭MIUI优化、锁定应用、关闭省电模式
- 所有权限设置完成后，建议重启应用

### 系统兼容性
- 支持Android 7.0+ (API 24+)
- 在MIUI系统上需要额外配置
- 建议在WiFi环境下使用

## 🔧 技术特性

### 架构设计
- **分层架构**：职责明确，易于维护
- **模块化设计**：各功能模块独立，便于扩展
- **异步处理**：支持后台执行，不阻塞UI

### 核心组件
- `AutomationScriptExecutor` - 脚本执行器
- `ScriptUtils` - 脚本工具类
- `SettingsManager` - 设置管理
- `FloatingWindowService` - 悬浮窗服务
- `AutomationAccessibilityService` - 无障碍服务

### 自定义参数
- 最多操作控件数量（默认12个）
- 每批查找控件数量（默认4个）
- 自定义等待时间
- 点击后滑动设置
- 重试参数配置

## 🚨 故障排除

### 常见问题
1. **脚本无法启动** - 检查无障碍服务是否已开启
2. **脚本执行中断** - 检查悬浮窗权限和后台权限
3. **无法截屏** - 检查截屏权限是否已授予
4. **API请求失败** - 检查网络连接和权限

### 获取帮助
- 查看 [权限设置指南](PERMISSION_SETUP_GUIDE.md) 获取详细故障排除方法
- 查看 [MIUI故障排除](MIUI_TROUBLESHOOTING.md) 了解小米手机特殊问题解决方案

## 📝 开发信息

### 版本信息
- 当前版本：1.0.0
- 支持Android版本：7.0+ (API 24+)
- 依赖库：OkHttp 4.12.0

### 开发环境
- Android Studio
- Java 8+
- Android SDK API 24+

### 构建说明
1. 克隆项目到本地
2. 使用Android Studio打开项目
3. 同步Gradle依赖
4. 构建APK文件

## 📄 许可证

本项目仅供学习和研究使用，请遵守相关法律法规。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进项目。

---

**注意**：使用本应用前请确保已阅读并理解所有文档，特别是权限设置部分。如有问题，请参考相应的故障排除文档。
